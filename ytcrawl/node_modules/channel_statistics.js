// import 'generate_auth_url';
const { google } = require('googleapis');
const service = google.youtube('v3');
// const oauth2Service = require('../common/oauth2_service');
// const _ = require('lodash');

function getChannelListData(channelId){
    service.channels.list({
        part: 'id, snippet, statistics',
        fields: 'items(id, snippet(title, description, thumbnails(default(url))), statistics(viewCount, subscriberCount, videoCount))',
        id: channelId
    }, function(err, response){
        if (err) {
            console.log('The API returned an error: ' + err);
            return;
        }

        var channels = response.data.items;
        if (channels.length == 0){
            console.log('No channel found.');
        } else {
            console.log(JSON.stringify(channels, null, 4));
        }
    });
}

getChannelListData('UC6AG81pAkf6Lbi_1VC5NmPA');